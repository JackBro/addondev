<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html
	PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="ja" xml:lang="ja" >
<head>
	<title> WikiParser Test </title>
	
	<meta http-equiv="content-style-type" content="text/css" />
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta http-equiv="Content-Script-Type" content="text/javascript" />
	
	<script type="text/javascript" src="js/jquery-1.5.min.js" ></script>
    <script type="text/javascript" src="js/jquery.json-2.2.min.js" ></script>
    <script type="text/javascript" src="js/jquery.incrementalsearch.js" ></script>
    <script type="text/javascript" src="js/jquery.scrollinwindow.js" ></script>
	<script type="text/javascript" src="ThickBox/thickbox.js"></script>
	<script type="text/javascript" src="js/WikiParser.js" ></script>
	<script type="text/javascript" src="js/view.js" ></script>

	<link rel="stylesheet" href="ThickBox/thickbox.css" type="text/css" media="screen" />
	<link rel="stylesheet" href="wiki.css" type="text/css" />

	<script type="text/javascript">
	    $.support.cors = true;

	    var searchOffset = { left: 0, top: 0 };
	    $(function () {
	        $("#container").mousedown(function (event) {
	            searchOffset = { left: event.pageX, top: event.pageY };
	            $('#container').searchReset();
	        });
	    });

	    function setPort(port) {
	        requrl = 'http://localhost:' + port + '/item';
	    }

	    function js_incrementalSearch(pat, isregx) {
	        if (isregx.toUpperCase() == 'TRUE') {
	            pat = new RegExp(pat);
	            alert(pat);
	        }
	        $('#container').removeHighlight().incrementalSearch(pat, searchOffset);
	        if ($('.inchighlight').length) {
	            $('.inchighlight').inwindow();
	        }
	    }

	    function js_searchNext(pat, isregx) {
	        if (isregx.toUpperCase() == 'TRUE') {
	            pat = new RegExp(pat);
	        }
	        $('#container').search(pat, false, searchOffset);

	        if ($('.curselecthighlight').length) {
	            $('.curselecthighlight').inwindow();
	        }
	    }

	    function js_searchPrev(pat, isregx) {
	        if (isregx.toUpperCase() == 'TRUE') {
	            pat = new RegExp(pat);
	        }

	        $('#container').search(pat, true, searchOffset);

	        if ($('.curselecthighlight').length) {
	            $('.curselecthighlight').inwindow();
	        }
	    }
    </script>
</head>

<body >

<div id="container" />
</body>

</html>
